!function(e,t,n,s,a){var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r="function"==typeof l.parcelRequire5ce4&&l.parcelRequire5ce4,o=r.cache||{},i="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function p(t,n){if(!o[t]){if(!e[t]){var s="function"==typeof l.parcelRequire5ce4&&l.parcelRequire5ce4;if(!n&&s)return s(t,!0);if(r)return r(t,!0);if(i&&"string"==typeof t)return i(t);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}u.resolve=function(n){return e[t][1][n]||n},u.cache={};var d=o[t]=new p.Module(t);e[t][0].call(d.exports,u,d,d.exports,this)}return o[t].exports;function u(e){return p(u.resolve(e))}}p.isParcelRequire=!0,p.Module=function(e){this.id=e,this.bundle=p,this.exports={}},p.modules=e,p.cache=o,p.parent=r,p.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(p,"root",{get:function(){return l.parcelRequire5ce4}}),l.parcelRequire5ce4=p;for(var d=0;d<t.length;d++)p(t[d]);var u=p(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd&&define((function(){return u}))}({"2VTMI":[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n),s.export(n,"getCurrentPage",(function(){return P})),s.export(n,"appRerender",(function(){return C}));var a=e("./pages/login"),l=e("./pages/login/index.tmpl"),r=s.interopDefault(l),o=e("./pages/signup"),i=e("./pages/signup/index.tmpl"),p=s.interopDefault(i),d=e("./pages/profile"),u=e("./pages/profile/index.tmpl"),c=s.interopDefault(u),m=e("./pages/chat"),f=e("./pages/chat/index.tmpl"),h=s.interopDefault(f),v=e("./components/navTmp"),g=e("./components/navTmp/index.tmpl"),b=s.interopDefault(g),w=e("./app"),D=e("./app/index.tmpl"),j=s.interopDefault(D),y=e("./pages/errorPage"),x=s.interopDefault(y),k=e("./pages/errorPage/index.tmpl"),I=s.interopDefault(k);e("./index.scss");var E=e("./utils/renderDom"),V=s.interopDefault(E),B=e("./utils/historyPush"),F=s.interopDefault(B);const L={"/login":{Class:a.Login,props:a.loginProps,value:null,tmpl:r.default},"/signup":{Class:o.Signup,props:o.signupProps,value:null,tmpl:p.default},"/chat":{Class:m.Chat,props:m.chatProps,value:null,tmpl:h.default},"/profile":{Class:d.Profile,props:d.profileProps,value:null,tmpl:c.default}};function P(){let e;if(void 0!==L[window.location.pathname]){const t=L[window.location.pathname];!!t.value||(t.value=new t.Class(t.props,t.tmpl)),e=t.value}else e=new x.default({error:{code:"404",message:"Страница не существует"}},I.default);return e}const _=new w.App({components:{navTmp:new v.NavTmp({events:[{type:"click",element:"[data-path]",callback(e){F.default(e,(()=>{_.setProps({components:{page:P()}})}))}}]},b.default),page:P()}},j.default),C=()=>{_.setProps({components:{page:P()}})};V.default("#root",_)},{"./pages/login":"3nYzq","./pages/login/index.tmpl":"6l5XE","./pages/signup":"tOoNo","./pages/signup/index.tmpl":"5n8U4","./pages/profile":"43pLp","./pages/profile/index.tmpl":"7IFjV","./pages/chat":"6fuVf","./pages/chat/index.tmpl":"2DiTE","./components/navTmp":"3z3gk","./components/navTmp/index.tmpl":"35OAm","./app":"6HMW0","./app/index.tmpl":"4LPfT","./pages/errorPage":"1zU4o","./pages/errorPage/index.tmpl":"6FZfd","./index.scss":"5iJih","./utils/renderDom":"3pDDG","./utils/historyPush":"156DN","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"3nYzq":[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n),s.export(n,"submitButton",(function(){return j})),s.export(n,"Login",(function(){return y})),s.export(n,"loginProps",(function(){return x}));var a=e("../../components/DefaultInput/index"),l=s.interopDefault(a),r=e("../../components/DefaultInput/index.tmpl"),o=s.interopDefault(r),i=e("../../components/Button/index"),p=s.interopDefault(i),d=e("../../components/Button/index.tmpl"),u=s.interopDefault(d),c=e("../../utils/Validation"),m=s.interopDefault(c),f=e("../../modules/Form"),h=s.interopDefault(f),v=e("../../utils/historyPush"),g=s.interopDefault(v),b=e("../../index");const w=new l.default({label:"Login",type:"text",name:"login",errorText:"Wrong login",events:[{type:"blur",element:"input",callback(e){const t=e.target,{isValid:n}=new m.default(t.value).minLength(4);n?w.setValid():w.setValidError()}}]},o.default),D=new l.default({label:"Password",type:"password",name:"password",errorText:"Wrong password",events:[{type:"blur",element:"input",callback(e){const t=e.target,n=new m.default(t.value),{isValid:s}=n.minLength(6).lettersOrNumbers();s?D.setValid():D.setValidError()}}]},o.default),j=new p.default({attributes:[{element:"root",disabled:{type:"set",value:!0},className:{type:"add",value:"disabled"}}],type:"submit",text:"Login"},u.default);class y extends h.default{}const x={events:[{type:"submit",element:"form",callback(e){e.preventDefault();const t=new FormData(e.target),n={};for(const[e,s]of t)n[e]=s;console.log(n)}},{type:"click",element:"[data-path]",callback(e){g.default(e,b.appRerender)}}],components:{loginInput:w,passwordInput:D,submitButton:j}}},{"../../components/DefaultInput/index":"5xxXy","../../components/DefaultInput/index.tmpl":"7CCL9","../../components/Button/index":"o32bC","../../components/Button/index.tmpl":"30wYB","../../utils/Validation":"a423f","../../modules/Form":"3PPs5","../../utils/historyPush":"156DN","../../index":"2VTMI","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"5xxXy":[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n);var a=e("../../utils/Block"),l=s.interopDefault(a);class r extends l.default{get input(){return this.element.querySelector("input")}setValidError(){var e;this.input.dataset.valid="false",null===(e=this.element.querySelector("[data-validation-error]"))||void 0===e||e.classList.add("visible"),this.props.checkFormValid()}setValid(){var e;this.input.dataset.valid="true",null===(e=this.element.querySelector("[data-validation-error]"))||void 0===e||e.classList.remove("visible"),this.props.checkFormValid()}}n.default=r},{"../../utils/Block":"2eDEb","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"2eDEb":[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n);var a,l=e("./EventBus"),r=s.interopDefault(l),o=e("./Templator"),i=s.interopDefault(o);!function(e){e.INIT="init",e.FLOW_CDM="flow:component-did-mount",e.FLOW_CDU="flow:component-did-update",e.FLOW_RENDER="flow:render"}(a||(a={}));n.default=class{constructor(e={},t){this._boundEvents=[],this.eventBus=new r.default,this._meta={tmpl:t,props:e},this.props=this._makePropsProxy({...e}),this._registerEvents(),this.eventBus.emit(a.INIT)}get element(){return this._element}destroyElem(){this.element.remove()}getContent(){return this.element}setProps=e=>{e&&Object.assign(this.props,{...e})};render(){return i.default.getCompiledChildren(this._meta.tmpl,this.props)}componentDidMount(){}init(){this._createResources(),this.eventBus.emit(a.FLOW_CDM)}componentDidUpdate(e,t){return e!==t}show(){this.getContent().classList.remove("hidden")}hide(){this.getContent().classList.add("hidden")}_registerEvents(){this.eventBus.on(a.INIT,this.init.bind(this)),this.eventBus.on(a.FLOW_CDM,this._componentDidMount.bind(this)),this.eventBus.on(a.FLOW_CDU,this._componentDidUpdate.bind(this)),this.eventBus.on(a.FLOW_RENDER,this._render.bind(this))}_createResources(){const e=i.default.getCompiledParent(this._meta.tmpl,this.props);this._element=e}_makePropsProxy(e){return new Proxy(e,{get:(e,t)=>{const n=e[t];return"function"==typeof n?n.bind(e):n},set:(e,t,n)=>("object"==typeof e[t]?Object.assign(e[t],n):e[t]=n,this.eventBus.emit(a.FLOW_CDU,{...e},e),!0),deleteProperty:()=>{throw new Error("Нет доступа")}})}_componentDidMount(){this.componentDidMount(),this.eventBus.emit(a.FLOW_RENDER)}_componentDidUpdate(e,t){this.componentDidUpdate(e,t)&&this._render()}addEvents(){this._boundEvents.forEach((({type:e,element:t,callback:n})=>{if(t)if("root"===t){this.element.addEventListener(e,n)}else{this.element.querySelectorAll(t).forEach((t=>{t.addEventListener(e,n)}))}}))}removeEvents(){this._boundEvents.forEach((({type:e,element:t,callback:n})=>{if(!t)return;let s;s="root"===t?this.element:this.element.querySelector(t),s.removeEventListener(e,n)})),this.props.events&&(this._boundEvents=[],this.props.events.forEach((({type:e,element:t,callback:n})=>{this._boundEvents.push({type:e,element:t,callback:n.bind(this)})})))}setAttributes(e){if(void 0!==this.props.attributes)return this.props.attributes.forEach((t=>{let n=e;"root"!==t.element&&(n=e.querySelector(t.element)),null!==n&&Object.keys(t).forEach((e=>{if("element"!==e)if("className"===e){var s,a;const l=null===(s=t[e])||void 0===s?void 0:s.type,r=null===(a=t[e])||void 0===a?void 0:a.value;void 0!==l&&void 0!==r&&n.classList[l](r)}else{const s=t[e],{type:a,value:l}=s;"set"===a?n.setAttribute(e,l):"remove"===a&&n.removeAttribute(e)}}))})),e}_render(){const e=this.render();e.length&&(this._element.innerHTML="",this._element.append(...e)),this.removeEvents(),this.setAttributes(this._element),this.addEvents()}}},{"./EventBus":"1U3h7","./Templator":"hNvyN","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"1U3h7":[function(e,t,n){e("@parcel/transformer-js/lib/esmodule-helpers.js").defineInteropFlag(n);n.default=class{constructor(){this.listeners={}}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}off(e,t){this.listeners[e]=this.listeners[e].filter((e=>e!==t))}emit(e,...t){if(!this.listeners[e])throw new Error(`Нет события: ${e}`);this.listeners[e].forEach((e=>{e(...t)}))}}},{"@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"730v8":[function(e,t,n){"use strict";n.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},n.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.exportAll=function(e,t){return Object.keys(e).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in t&&t[n]===e[n]||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}}))})),t},n.export=function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,get:n})}},{}],hNvyN:[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n);var a=e("./get"),l=s.interopDefault(a),r=e("./isEmpty"),o=s.interopDefault(r);const i={compile(e,t={}){let n=null;const s=/{{(.*?)}}/gi;let a=e;for(;n=s.exec(a);)if(n[1]){const e=n[1].trim(),s=l.default(t,e),r=o.default(s)?"":s;a=a.replace(new RegExp(n[0],"gi"),r)}return a},compilePassEmpty(e,t={}){let n=null;const s=/{{(.*?)}}/gi;let a=e;for(;n=s.exec(a);)if(n[1]){const e=n[1].trim(),s=l.default(t,e),r=o.default(s)?"":s;s&&(a=a.replace(new RegExp(n[0],"gi"),r))}return a},getCompiledParent(e,t){const n=this.compile(e,t),s=(new DOMParser).parseFromString(n,"text/html").body.children[0];return s.children.length&&(s.innerHTML=""),s},getCompiledChildren(e,t){return this.compileToHtml(e,t).children},compileToHtml(e,t){let n=e;n=this.compile(n,t);const s=(new DOMParser).parseFromString(n,"text/html").body.children[0];return t.components&&s.querySelectorAll("[data-component]").forEach((e=>{if(void 0!==t.components&&e instanceof HTMLElement){const n=t.components[e.dataset.component];void 0!==n&&(Array.isArray(n)?e.replaceWith(...n.map((e=>e.getContent()))):e.replaceWith(n.getContent()))}})),s},compileConcat(e){let t="";return e.forEach((e=>{t+=i.compile(e.template,e.context)})),t}};n.default=i},{"./get":"7cu7n","./isEmpty":"UEsuH","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"7cu7n":[function(e,t,n){e("@parcel/transformer-js/lib/esmodule-helpers.js").defineInteropFlag(n),n.default=function(e,t,n){const s=t.split(".");let a=e[s[0]];if(void 0===a)return a;for(let e=1;e<s.length;e++){if(void 0===a[s[e]]){a=n||void 0;break}a=a[s[e]]}return a}},{"@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],UEsuH:[function(e,t,n){e("@parcel/transformer-js/lib/esmodule-helpers.js").defineInteropFlag(n),n.default=function(e){return null===e||("string"==typeof e?0===e.length:"object"!=typeof e||(void 0!==e.size?0===e.size:Array.isArray(e)?0===e.length:0===Object.keys(e).length))}},{"@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"7CCL9":[function(e,t,n){e("@parcel/transformer-js/lib/esmodule-helpers.js").defineInteropFlag(n),n.default="\n  <div class='input-wrap'>\n    <span class='label'>{{label}}</span>\n    <input data-valid='false' placeholder='{{placeholder}}' name='{{name}}' class='input' type='{{type}}'/>\n    <span data-validation-error class='error'>{{errorText}}</span>\n  </div>"},{"@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],o32bC:[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n);var a=e("../../utils/Block"),l=s.interopDefault(a);class r extends l.default{get button(){return this.element.querySelector("button")}}n.default=r},{"../../utils/Block":"2eDEb","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"30wYB":[function(e,t,n){e("@parcel/transformer-js/lib/esmodule-helpers.js").defineInteropFlag(n),n.default="<button type='{{type}}' class='button'>{{text}}</button>"},{"@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],a423f:[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n),s.export(n,"checkValidationByTemplate",(function(){return d}));const a=/^[a-z]+$/i,l=/^\d+$/,r=/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/,o=/^\S+@\S+\.\S+$/,i=/[0-9]/;class p{isValid=!0;constructor(e){this.value=e}email(){return this.isValid=o.test(this.value)&&this.isValid,this}required(){return this.isValid=!!this.value.length&&this.isValid,this}maxLength(e){return this.isValid=this.value.length<=e&&this.isValid,this}minLength(e){return this.isValid=this.value.length>=e&&this.isValid,this}onlyLetters(){return this.isValid=a.test(this.value)&&this.isValid,this}onlyNumbers(){return this.isValid=l.test(this.value)&&this.isValid,this}phone(){return this.isValid=r.test(this.value)&&this.isValid,this}lettersOrNumbers(){return this.isValid=i.test(this.value)&&this.isValid,this}}function d(e,t){const n=new p(t);let s;switch(e){case"email":s=n.email().isValid;break;case"login":s=n.minLength(4).lettersOrNumbers().isValid;break;case"first_name":case"second_name":s=n.minLength(2).onlyLetters().isValid;break;case"phone":s=n.phone().isValid;break;case"password":s=n.minLength(6).lettersOrNumbers().isValid;break;default:s=!1}return s}n.default=p},{"@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"3PPs5":[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n);var a=e("../utils/Block"),l=s.interopDefault(a);class r extends l.default{constructor(e,t){super(e,t),this.props.components&&Object.keys(this.props.components).forEach((e=>{if(void 0!==this.props.components){this.props.components[e].setProps({checkFormValid:this.checkFormValid.bind(this)})}}))}get submitButton(){return this.element.querySelector("button")}checkFormValid(){const e=this.element.querySelectorAll("input");let t=!0;e.forEach((e=>{t="true"===e.dataset.valid&&t})),t?(this.submitButton.classList.remove("disabled"),this.submitButton.removeAttribute("disabled")):(this.submitButton.classList.add("disabled"),this.submitButton.setAttribute("disabled","true"))}}n.default=r},{"../utils/Block":"2eDEb","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"156DN":[function(e,t,n){e("@parcel/transformer-js/lib/esmodule-helpers.js").defineInteropFlag(n),n.default=function(e,t){const n=e.target,{path:s}=n.dataset;"string"==typeof s&&(window.history.pushState({},s,`${window.location.origin}${s}`),void 0!==t&&t())}},{"@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"6l5XE":[function(e,t,n){e("@parcel/transformer-js/lib/esmodule-helpers.js").defineInteropFlag(n),n.default="\n  <div class='form login-wrap'>\n    <h1>Log in</h1>\n    <form>\n      <div data-component='loginInput'></div>\n      <div data-component='passwordInput'></div>\n      <div data-component='submitButton'></div>\n    </form>\n    <div class='pre-link'>Don't have an account? <a data-path='/signup' class='link'> Sign up</a></div>\n  </div>"},{"@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],tOoNo:[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n),s.export(n,"Signup",(function(){return V})),s.export(n,"signupProps",(function(){return B}));var a=e("../../components/DefaultInput"),l=s.interopDefault(a),r=e("../../components/Button"),o=s.interopDefault(r),i=e("../../components/Button/index.tmpl"),p=s.interopDefault(i),d=e("../../components/DefaultInput/index.tmpl"),u=s.interopDefault(d),c=e("../../utils/Validation"),m=s.interopDefault(c),f=e("../../utils/historyPush"),h=s.interopDefault(f),v=e("../../index"),g=e("../../modules/Form"),b=s.interopDefault(g);const w=new l.default({label:"Email",type:"text",name:"email",errorText:"Wrong email",events:[{type:"blur",element:"input",callback(e){const t=e.target,n=new m.default(t.value),{isValid:s}=n.email();s?w.setValid():w.setValidError()}}]},u.default),D=new l.default({label:"Login",type:"text",name:"login",errorText:"Wrong login",events:[{type:"blur",element:"input",callback(e){const t=e.target,n=new m.default(t.value),{isValid:s}=n.minLength(4).lettersOrNumbers();s?D.setValid():D.setValidError()}}]},u.default),j=new l.default({label:"First name",type:"text",name:"first_name",errorText:"Wrong first name",events:[{type:"blur",element:"input",callback(e){const t=e.target,n=new m.default(t.value),{isValid:s}=n.minLength(2).onlyLetters();s?j.setValid():j.setValidError()}}]},u.default),y=new l.default({label:"Second name",type:"text",name:"second_name",errorText:"Wrong second name",events:[{type:"blur",element:"input",callback(e){const t=e.target,n=new m.default(t.value),{isValid:s}=n.minLength(2).onlyLetters();s?y.setValid():y.setValidError()}}]},u.default),x=new l.default({label:"Phone number",type:"number",name:"phone",errorText:"Wrong phone number",events:[{type:"blur",element:"input",callback(e){const t=e.target,n=new m.default(t.value),{isValid:s}=n.phone();s?x.setValid():x.setValidError()}}]},u.default),k=new l.default({label:"Password",type:"password",name:"password",errorText:"Wrong password",events:[{type:"blur",element:"input",callback(e){const t=e.target,n=new m.default(t.value),{isValid:s}=n.minLength(6).lettersOrNumbers();s?k.setValid():k.setValidError()}}]},u.default),I=new l.default({label:"Password (again)",type:"password",name:"passwordAgain",errorText:"Password mismatch",events:[{type:"blur",element:"input",callback(e){const t=e.target,n=new m.default(t.value);let{isValid:s}=n.minLength(6).lettersOrNumbers();const a=document.querySelector("[name=password]");null!==a&&(s=s&&a.value===t.value),s?I.setValid():I.setValidError()}}]},u.default),E=new o.default({attributes:[{element:"root",disabled:{type:"set",value:!0},className:{type:"add",value:"disabled"}}],type:"submit",text:"Sign up"},p.default);class V extends b.default{}const B={events:[{type:"submit",element:"form",callback(e){e.preventDefault();const t=new FormData(e.target),n={};for(const[e,s]of t)n[e]=s;console.log(n)}},{type:"click",element:"[data-path]",callback(e){h.default(e,v.appRerender)}}],components:{emailInput:w,loginInput:D,firstNameInput:j,secondNameInput:y,phoneInput:x,passwordInput:k,passwordAgainInput:I,submitBtn:E}}},{"../../components/DefaultInput":"5xxXy","../../components/Button":"o32bC","../../components/Button/index.tmpl":"30wYB","../../components/DefaultInput/index.tmpl":"7CCL9","../../utils/Validation":"a423f","../../utils/historyPush":"156DN","../../index":"2VTMI","../../modules/Form":"3PPs5","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"5n8U4":[function(e,t,n){e("@parcel/transformer-js/lib/esmodule-helpers.js").defineInteropFlag(n),n.default="\n  <div class='form signup-wrap'>\n    <h1>Sign up</h1>\n    <form>\n      <div data-component='emailInput'></div>\n      <div data-component='loginInput'></div>\n      <div data-component='firstNameInput'></div>\n      <div data-component='secondNameInput'></div>\n      <div data-component='phoneInput'></div>\n      <div data-component='passwordInput'></div>\n      <div data-component='passwordAgainInput'></div>\n      <div data-component='submitBtn'></div>\n    </form>\n    <div class='pre-link'>Already have an account? <a data-path='/login' class='link'> Log in</a></div>\n  </div>"},{"@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"43pLp":[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n),s.export(n,"Profile",(function(){return V})),s.export(n,"profileProps",(function(){return B}));var a=e("../../components/ArrowButton/index"),l=s.interopDefault(a),r=e("../../components/ArrowButton/index.tmpl"),o=s.interopDefault(r),i=e("../../utils/Block"),p=s.interopDefault(i),d=e("../../utils/historyPush"),u=s.interopDefault(d),c=e("../../index"),m=e("../../components/popups/EditFieldPopup"),f=s.interopDefault(m),h=e("../../components/popups/EditFieldPopup/index.tmpl"),v=s.interopDefault(h),g=e("../../components/DefaultInput"),b=s.interopDefault(g),w=e("../../components/DefaultInput/index.tmpl"),D=s.interopDefault(w),j=e("../../components/Button"),y=s.interopDefault(j),x=e("../../components/Button/index.tmpl"),k=s.interopDefault(x),I=e("../../utils/Validation");const E=new l.default({attributes:[{element:"root",className:{type:"add",value:"to-left"}},{element:"root","data-path":{type:"set",value:"/chat"}}],events:[{type:"click",element:"root",callback(e){u.default(e,c.appRerender)}}]},o.default);class V extends p.default{componentDidMount(){setTimeout((()=>{this.setProps({userData:{avatar:"",email:"example@email.com",login:"some_login",first_name:"John",second_name:"Doe",display_name:"Johny",phone:"+7-123-456-78-90"}})}),1e3)}}const B={components:{arrowBtn:E},events:[{type:"click",element:"[data-field]",callback(e){!function(e){const t=new b.default({label:e.charAt(0).toUpperCase()+e.slice(1),type:"text",placeholder:"Some value from store",name:e,errorText:`Wrong ${e}`,events:[{type:"blur",element:"input",callback(n){const s=n.target;I.checkValidationByTemplate(e,s.value)?t.setValid():t.setValidError()}}]},D.default),n=new y.default({type:"submit",text:"confirm edit"},k.default),s=new f.default({title:"Редактировать поле",components:{input:t,submitBtn:n},events:[{type:"submit",element:"form",callback(e){e.preventDefault();const t=new FormData(e.target),n={};for(const[e,s]of t)n[e]=s;console.log(n),this.destroyElem()}},{type:"click",element:".close-popup",callback(){this.destroyElem()}}]},v.default);document.body.append(s.getContent())}(e.target.dataset.field)}},{type:"click",element:"[data-path]",callback(e){u.default(e,c.appRerender)}}]}},{"../../components/ArrowButton/index":"4JYAe","../../components/ArrowButton/index.tmpl":"3VsRK","../../utils/Block":"2eDEb","../../utils/historyPush":"156DN","../../index":"2VTMI","../../components/popups/EditFieldPopup":"7t1J6","../../components/popups/EditFieldPopup/index.tmpl":"6191v","../../components/DefaultInput":"5xxXy","../../components/DefaultInput/index.tmpl":"7CCL9","../../components/Button":"o32bC","../../components/Button/index.tmpl":"30wYB","../../utils/Validation":"a423f","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"4JYAe":[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n);var a=e("../../utils/Block"),l=s.interopDefault(a);class r extends l.default{}n.default=r},{"../../utils/Block":"2eDEb","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"3VsRK":[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n);var a=e("url:../../../static/img/arrow.svg");const l=`\n  <div class='arrow-button'>\n    <img src='${s.interopDefault(a).default}' alt=''/>\n  </div>`;n.default=l},{"url:../../../static/img/arrow.svg":"4jfWw","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"4jfWw":[function(e,t,n){t.exports=e("./bundle-url").getBundleURL()+"arrow.586565a4.svg"},{"./bundle-url":"YkqCo"}],YkqCo:[function(e,t,n){"use strict";var s=null;function a(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}n.getBundleURL=function(){return s||(s=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return a(e[0])}return"/"}()),s},n.getBaseURL=a,n.getOrigin=function(e){let t=(""+e).match(/(https?|file|ftp):\/\/[^/]+/);if(!t)throw new Error("Origin not found");return t[0]}},{}],"7t1J6":[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n);var a=e("../../../modules/Form"),l=s.interopDefault(a);class r extends l.default{}n.default=r},{"../../../modules/Form":"3PPs5","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"6191v":[function(e,t,n){e("@parcel/transformer-js/lib/esmodule-helpers.js").defineInteropFlag(n),n.default="\n  <div class='popup-wrap'>\n    <div class='popup'>\n      <div class='close-popup'>+</div>\n      <div class='title'>{{title}}</div>\n      <form>\n        <div data-component='input'></div>\n        <div data-component='submitBtn'></div>\n      </form>\n    </div>\n  </div>"},{"@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"7IFjV":[function(e,t,n){e("@parcel/transformer-js/lib/esmodule-helpers.js").defineInteropFlag(n),n.default="\n  <div class='profile-wrap'>\n    <div class='sidebar'>\n      <div data-component='arrowBtn'></div>\n    </div>\n    <div class='profile'>\n      <div class='img-wrap'>\n        <img src='{{userData.avatar}}' alt='avatar' class='profile-img'>\n      </div>\n      <h3>Иван</h3>\n      <div class='row'>\n        <p data-field='email' class='field-name'>Email</p>\n        <p class='field-value'>{{userData.email}}</p>\n      </div>\n      <div class='row'>\n        <p data-field='login' class='field-name'>Login</p>\n        <p class='field-value'>{{userData.login}}</p>\n      </div>\n      <div class='row'>\n        <p data-field='password' class='field-name'>Password</p>\n        <p class='field-value'>••••••••••••</p>\n      </div>\n      <div class='row'>\n        <p data-field='first_name' class='field-name'>First name</p>\n        <p class='field-value'>{{userData.first_name}}</p>\n      </div>\n      <div class='row'>\n        <p data-field='second_name' class='field-name'>Second name</p>\n        <p class='field-value'>{{userData.second_name}}</p>\n      </div>\n      <div class='row'>\n        <p data-field='display_name' class='field-name'>Display name</p>\n        <p class='field-value'>{{userData.display_name}}</p>\n      </div>\n      <div class='row'>\n        <p data-field='phone' class='field-name'>Phone number</p>\n        <p class='field-value'>{{userData.phone}}</p>\n      </div>\n      <a data-path='/login' class='link warning' href='#'>log out</a>\n    </div>\n  </div>"},{"@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"6fuVf":[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n),s.export(n,"Chat",(function(){return F})),s.export(n,"chatProps",(function(){return L}));var a=e("../../utils/Block"),l=s.interopDefault(a),r=e("../../components/ArrowButton"),o=s.interopDefault(r),i=e("../../components/ArrowButton/index.tmpl"),p=s.interopDefault(i),d=e("../../components/DefaultInput"),u=s.interopDefault(d),c=e("../../components/DefaultInput/index.tmpl"),m=s.interopDefault(c),f=e("../../components/searchInput/index.tmpl"),h=s.interopDefault(f),v=e("../../utils/historyPush"),g=s.interopDefault(v),b=e("../../index");class w extends l.default{}const D=[{messageId:123451,message:"Some message1",time:new Date,isOwn:!0},{messageId:2341,message:"Some message2",time:new Date,isOwn:!0},{messageId:12355451,message:"Some message3",time:new Date,isOwn:!0}],j=[{logo:"",name:"Андрей",lastMsgDate:new Date,unreadMsgCount:3,isLastMsgOwn:!0,lastMsg:"Some message"},{logo:"",name:"Андрей2",lastMsgDate:new Date,unreadMsgCount:6,isLastMsgOwn:!0,lastMsg:"Some message2"},{logo:"",name:"Андрей3",lastMsgDate:new Date,unreadMsgCount:5,isLastMsgOwn:!0,lastMsg:"Some message3"}],y=new u.default({},h.default),x=new u.default({attributes:[{element:"root",className:{type:"add",value:"fullwidth"}}]},m.default),k=new o.default({},p.default),I={messagesMock:D,chatMock:j};class E extends l.default{}function V(e){const t=I.messagesMock;e&&t.push({messageId:9999,message:e,time:new Date,isOwn:!0});const n=`<div>${t.map((e=>(({messageId:e,message:t,time:n,isOwn:s})=>`\n  <div data-id='${e}' class='message ${s?"own":"other"}'>\n    <p class='text'>\n    ${t}\n    </p>\n    <div class='info'>\n      <div class='time'>${n.getHours()}:${n.getMinutes()}</div>\n    </div>\n  </div>`)(e))).join()}</div>`;return new E({},n)}const B=new w({},`<div>${I.chatMock.map((e=>(({logo:e,name:t,lastMsgDate:n,unreadMsgCount:s,isLastMsgOwn:a,lastMsg:l})=>`\n  <div class='chat'>\n    <div class='img'>${e}</div>\n    <div class='content'>\n      <div class='name'>${t}</div>\n      <div class='last-msg'>\n      ${a?"<span class='own-msg'>Вы:</span>":""}\n      ${l}\n      </div>\n      <div class='last-msg-date'>${n.getHours()}:${n.getMinutes()}</div>\n      <div class='unread-msg-count-wrap'>${s}</div>\n    </div>\n  </div>`)(e))).join()}</div>`);class F extends l.default{sendMessage(e){setTimeout((()=>{var t,n;this.setProps({components:{messages:V(e)}}),null===(t=document.querySelector(".empty-chat"))||void 0===t||t.classList.add("hidden"),null===(n=document.querySelector(".chat-content-wrap"))||void 0===n||n.classList.remove("hidden")}),100)}componentDidMount(){setTimeout((()=>{this.setProps({components:{chatList:B},events:[...this.props.events,{type:"click",element:".chat",callback(){var e,t;this.setProps({chatName:"Some chat",components:{messages:V()}}),null===(e=document.querySelector(".empty-chat"))||void 0===e||e.classList.add("hidden"),null===(t=document.querySelector(".chat-content-wrap"))||void 0===t||t.classList.remove("hidden")}}]})}),1e3)}}const L={events:[{type:"click",element:"[data-path]",callback(e){g.default(e,b.appRerender)}},{type:"click",element:".controls .arrow-button",callback(){this.sendMessage(this.element.querySelector(".controls input").value),this.element.querySelector(".controls input").value=""}}],components:{searchInput:y,messageInput:x,arrowBtn:k}}},{"../../utils/Block":"2eDEb","../../components/ArrowButton":"4JYAe","../../components/ArrowButton/index.tmpl":"3VsRK","../../components/DefaultInput":"5xxXy","../../components/DefaultInput/index.tmpl":"7CCL9","../../components/searchInput/index.tmpl":"4Ykec","../../utils/historyPush":"156DN","../../index":"2VTMI","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"4Ykec":[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n);var a=e("url:../../../static/img/search.svg"),l=s.interopDefault(a);n.default=`\n  <div class='input-wrap'>\n    <img class='search-icon' src='${l.default}' alt=''>\n    <span class='label'>{{label}}</span>\n    <input data-valid='false' name='{{name}}' class='input search' type='{{type}}'/>\n    <span data-validation-error class='error'>{{errorText}}</span>\n  </div>`},{"url:../../../static/img/search.svg":"5V8e1","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"5V8e1":[function(e,t,n){t.exports=e("./bundle-url").getBundleURL()+"search.2964ddfb.svg"},{"./bundle-url":"YkqCo"}],"2DiTE":[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n);var a=e("url:../../../static/img/settings.svg"),l=s.interopDefault(a),r=e("url:../../../static/img/plus.svg"),o=s.interopDefault(r),i=e("url:../../../static/img/dot-btn.svg"),p=s.interopDefault(i),d=e("url:../../../static/img/attach.svg"),u=s.interopDefault(d);n.default=`\n  <div class='chat-wrap'>\n    <div class='chat-list-wrap'>\n      <div class='controls-wrap'>\n        <button class='img-btn'>\n          <img data-path='/profile' src='${l.default}' alt='' />\n        </button>\n        <div class='search-input-wrap'>\n          <div data-component='searchInput'></div>\n        </div>\n        <button class='add-chat-btn img-btn'>\n          <img src='${o.default}' alt='' />\n        </button>\n      </div>\n      <div class='chat-list'>\n        <div data-component='chatList'></div>\n      </div>\n    </div>\n    <div class='chat-content-wrap hidden'>\n      <div class='header'>\n        <div class='chat-header'>\n          <div class='chat-img'></div>\n          <div class='chat-name'>{{chatName}}</div>\n        </div>\n        <button class='settings-btn img-btn'>\n          <img src='${p.default}' alt='' />\n        </button>\n      </div>\n      <div class='content'>\n        <div class='message-date'>19 июня</div>\n        <div class='messages'>\n          <div data-component='messages'></div>\n        </div>\n      </div>\n      <div class='controls'>\n        <button class='attach-btn img-btn'>\n          <img src='${u.default}' alt='' />\n        </button>\n        <div data-component='messageInput'></div>\n        <div data-component='arrowBtn'></div>\n      </div>\n    </div>\n    <div class='empty-chat'>Select chat to start messaging</div>\n  </div>`},{"url:../../../static/img/settings.svg":"3buKJ","url:../../../static/img/plus.svg":"1Xk0Q","url:../../../static/img/dot-btn.svg":"5d56m","url:../../../static/img/attach.svg":"6tb6D","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"3buKJ":[function(e,t,n){t.exports=e("./bundle-url").getBundleURL()+"settings.14d28884.svg"},{"./bundle-url":"YkqCo"}],"1Xk0Q":[function(e,t,n){t.exports=e("./bundle-url").getBundleURL()+"plus.908b9e8d.svg"},{"./bundle-url":"YkqCo"}],"5d56m":[function(e,t,n){t.exports=e("./bundle-url").getBundleURL()+"dot-btn.a38a2012.svg"},{"./bundle-url":"YkqCo"}],"6tb6D":[function(e,t,n){t.exports=e("./bundle-url").getBundleURL()+"attach.da04d40b.svg"},{"./bundle-url":"YkqCo"}],"3z3gk":[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n),s.export(n,"NavTmp",(function(){return r}));var a=e("../../utils/Block"),l=s.interopDefault(a);class r extends l.default{}},{"../../utils/Block":"2eDEb","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"35OAm":[function(e,t,n){e("@parcel/transformer-js/lib/esmodule-helpers.js").defineInteropFlag(n),n.default="\n  <nav>\n    <ul class='nav-list'>\n      <li><a data-path='/login' class='link'>login</a></li>\n      <li><a data-path='/signup' class='link'>signup</a></li>\n      <li><a data-path='/profile' class='link'>profile</a></li>\n      <li><a data-path='/errorPage' class='link'>errorPage</a></li>\n      <li><a data-path='/chat' class='link'>chat</a></li>\n    </ul>\n  </nav>"},{"@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"6HMW0":[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n),s.export(n,"App",(function(){return r}));var a=e("../utils/Block"),l=s.interopDefault(a);class r extends l.default{}},{"../utils/Block":"2eDEb","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"4LPfT":[function(e,t,n){e("@parcel/transformer-js/lib/esmodule-helpers.js").defineInteropFlag(n),n.default="\n   <main class='app'>\n     <div data-component='navTmp'></div>\n     <div class='page'>\n     <div data-component='page'></div>\n     </div>\n   </main>"},{"@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"1zU4o":[function(e,t,n){var s=e("@parcel/transformer-js/lib/esmodule-helpers.js");s.defineInteropFlag(n);var a=e("../../utils/Block"),l=s.interopDefault(a);class r extends l.default{}n.default=r},{"../../utils/Block":"2eDEb","@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"6FZfd":[function(e,t,n){e("@parcel/transformer-js/lib/esmodule-helpers.js").defineInteropFlag(n),n.default="\n  <div class='error-page-wrap'>\n    <h1 class='title'>{{error.code}}</h1>\n    <h3 class='message'>{{error.message}}</h3>\n    <a class='link'>Назад к чатам</a>\n  </div>"},{"@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}],"5iJih":[function(){},{}],"3pDDG":[function(e,t,n){e("@parcel/transformer-js/lib/esmodule-helpers.js").defineInteropFlag(n),n.default=function(e,t){document.querySelector(e).append(t.getContent())}},{"@parcel/transformer-js/lib/esmodule-helpers.js":"730v8"}]},["2VTMI"],"2VTMI");
//# sourceMappingURL=index.9b9405a7.js.map
